const card = document.getElementById('card');
let allVillagersData = [];
const startBtn = document.querySelector('#start-btn');

document.addEventListener('DOMContentLoaded', () => {
    fetch('/api/villagers')
        .then(response => response.json())
        .then(data => {
            allVillagersData = data;
        })
        .catch(error => console.warn('Failed to fetch villager data:', error));
});

startBtn.addEventListener('click', fetchAndDisplayRandomVillager);

function fetchAndDisplayRandomVillager() {
    displayVillager(getRandomVillager(allVillagersData));
}

function getRandomVillager(array) {
    let randomNumber = Math.floor(Math.random() * array.length);
    return array[randomNumber];
}

function displayVillager(villager) {
    const html = `
        <img id='villager-img' src='${villager.image_url}' alt='Villager ${villager.name}'>
        <div id='quote-container'>
            <span id='name' style='background-color: #${villager.title_color}; color: #${villager.text_color}'>${villager.name}</span>
            <p>${villager.quote}</p>
            <p>~ ${villager.phrase} ~</p>
        </div>
        <ul>
            <li id='species'>
                <span>Species: </span>
                <span>
                    <svg fill="hsl(38.8, 100%, 50%)" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" 
                    width="800px" height="800px" viewBox="0 0 512 512" enable-background="new 0 0 512 512" xml:space="preserve">
                        <g>
                            <path d="M256-0.5C114.333-0.5-0.5,114.333-0.5,256S114.333,512.5,256,512.5S512.5,397.667,512.5,256S397.667-0.5,256-0.5z
                                    M256,472.422C136.47,472.422,39.578,375.53,39.578,256C39.578,136.47,136.47,39.578,256,39.578
                                c119.53,0,216.422,96.892,216.422,216.422C472.422,375.53,375.53,472.422,256,472.422z"/>
                            <path d="M133.48,236.619c-9.394,8.673-6.982,27.397,5.385,41.863c12.368,14.45,29.996,19.131,39.374,10.427
                                c9.378-8.643,6.967-27.397-5.401-41.832C160.47,232.642,142.842,227.945,133.48,236.619z"/>
                            <path d="M338.833,243.757c-11.006,15.625-11.694,34.52-1.55,42.223c10.129,7.671,27.257,1.314,38.247-14.325
                                c10.99-15.593,11.679-34.473,1.55-42.191C366.95,221.777,349.808,228.18,338.833,243.757z"/>
                            <path d="M226.129,240.125c16.517-3.977,25.111-28.65,19.179-55.107c-5.887-26.458-24.078-44.681-40.595-40.705
                                c-16.501,4.008-25.08,28.681-19.194,55.139C191.452,225.879,209.628,244.102,226.129,240.125z"/>
                            <path d="M309.057,144.313c-16.501-3.977-34.677,14.247-40.595,40.705c-5.918,26.458,2.661,51.131,19.193,55.107
                                c16.485,3.976,34.677-14.247,40.595-40.673C334.184,172.995,325.558,148.321,309.057,144.313z"/>
                            <path d="M256,262.513c-39.374,0-68.932,62.7-68.932,83.444c0,51.005,29.558-1.613,68.932-1.613c39.39,0,68.932,52.618,68.932,1.613
                                C324.932,325.213,295.39,262.513,256,262.513z"/>
                        </g>
                    </svg>
                    <div>${villager.species}</div>
                </span>
                </li>
            <li id='personality'>
                <span>Personality: </span>
                <span>
                    <div>
                        <svg width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg"
                        xmlns:xlink="http://www.w3.org/1999/xlink">
                            <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                            <g fill="hsl(193.4, 80.7%, 32.5%)" fill-rule="nonzero">
                                <path
                                d="M4,18 C5.1045695,18 6,18.8954305 6,20 C6,21.1045695 5.1045695,22 4,22 C2.8954305,22 2,21.1045695 2,20 C2,18.8954305 2.8954305,18 4,18 Z M4,19.5 C3.72385763,19.5 3.5,19.7238576 3.5,20 C3.5,20.2761424 3.72385763,20.5 4,20.5 C4.27614237,20.5 4.5,20.2761424 4.5,20 C4.5,19.7238576 4.27614237,19.5 4,19.5 Z M9.5,15 C10.8807119,15 12,16.1192881 12,17.5 C12,18.8807119 10.8807119,20 9.5,20 C8.11928813,20 7,18.8807119 7,17.5 C7,16.1192881 8.11928813,15 9.5,15 Z M9.5,16.5 C8.94771525,16.5 8.5,16.9477153 8.5,17.5 C8.5,18.0522847 8.94771525,18.5 9.5,18.5 C10.0522847,18.5 10.5,18.0522847 10.5,17.5 C10.5,16.9477153 10.0522847,16.5 9.5,16.5 Z M11.8235294,2 C14.4827516,2 16.7073312,3.92259542 17.1537549,6.47059089 L17.2352941,6.47058824 C19.3144838,6.47058824 21,8.15610447 21,10.2352941 C21,12.3144838 19.3144838,14 17.2352941,14 L6.41176471,14 C4.33257506,14 2.64705882,12.3144838 2.64705882,10.2352941 C2.64705882,8.15610447 4.33257506,6.47058824 6.41178765,6.47058824 L6.49330392,6.47059089 C6.93972762,3.92259542 9.16430718,2 11.8235294,2 Z M11.8291192,3.49762123 C9.73295963,3.49762123 8.00857273,5.14271881 7.90592507,7.22596718 C7.8877496,7.59484084 7.58315087,7.8845891 7.21355942,7.88457709 L6.51472525,7.88455439 C5.23861276,7.88455439 4.20411919,8.91828959 4.20411919,10.1934666 C4.20411919,11.4686436 5.23861276,12.5023788 6.51472525,12.5023788 L17.1435131,12.5023788 C18.4196256,12.5023788 19.4541192,11.4686436 19.4541192,10.1934666 C19.4541192,8.91828959 18.4196256,7.88455439 17.1435357,7.88455439 L16.444679,7.88457709 C16.0750875,7.8845891 15.7704888,7.59484084 15.7523133,7.22596718 C15.6496656,5.14271881 13.9252788,3.49762123 11.8291192,3.49762123 Z">
                                </path>
                            </g>
                            </g>
                        </svg>
                    </div>
                    <div>${villager.personality}</div>
                </span>
                </li>
            <li id='hobby'>
                <span>Hobby: </span>
                <span>
                    <div id='hobby-icon'></div>
                    <div>${villager.nh_details && villager.nh_details.hobby ? villager.nh_details.hobby : 'Unknown'}</div>
                </span>
                </li>
            <li id='birthday'>
                <span>Birthday: </span>
                <span>
                    <svg fill="hsl(76.7, 26.2%, 45.7%)" width="32px" height="32px" viewBox="0 0 32 32" version="1.1" xmlns="http://www.w3.org/2000/svg">
                        <title>Birthday Cake</title>
                        <path 
                        d="M28 13.75h-2.75v-2.75c0-0.69-0.56-1.25-1.25-1.25s-1.25 0.56-1.25 1.25v0 2.75h-5.5v-2.75c0-0.69-0.56-1.25-1.25-1.25s-1.25 0.56-1.25 1.25v0 2.75h-5.5v-2.75c0-0.69-0.56-1.25-1.25-1.25s-1.25 0.56-1.25 1.25v0 2.75h-2.75c-1.794 0.002-3.248 1.456-3.25 3.25v11c0.002 1.794 1.456 3.248 3.25 3.25h24c1.794-0.001 3.249-1.456 3.25-3.25v-11c-0.002-1.794-1.456-3.248-3.25-3.25h-0zM4 16.25h2.75v1.75c0 0.69 0.56 1.25 1.25 1.25s1.25-0.56 1.25-1.25v0-1.75h5.5v1.75c0 0.69 0.56 1.25 1.25 1.25s1.25-0.56 1.25-1.25v0-1.75h5.5v1.75c0 0.69 0.56 1.25 1.25 1.25s1.25-0.56 1.25-1.25v0-1.75h2.75c0.412 0.006 0.744 0.338 0.75 0.749v5.979l-1.865-1.865c-0.231-0.225-0.547-0.364-0.896-0.364-0.040 0-0.080 0.002-0.119 0.005l0.005-0c-0.385 0.039-0.714 0.248-0.915 0.55l-0.003 0.005c-1.086 1.641-2.75 3.6-4.363 3.438-1.682-0.133-3.063-2.4-3.454-3.262-0.202-0.437-0.636-0.734-1.14-0.734s-0.938 0.298-1.136 0.727l-0.003 0.008c-0.386 0.85-1.754 3.084-3.431 3.223-1.616 0.172-3.296-1.775-4.393-3.406-0.205-0.303-0.533-0.509-0.911-0.546l-0.005-0c-0.035-0.003-0.076-0.005-0.117-0.005-0.346 0-0.66 0.139-0.888 0.365l0-0-1.866 1.866v-5.98c0.006-0.412 0.338-0.744 0.75-0.75h0.001zM28 28.75h-24c-0.412-0.006-0.744-0.338-0.75-0.749v-1.484l2.602-2.602c1.231 1.952 3.358 3.24 5.789 3.285l0.007 0c1.827-0.295 3.369-1.328 4.335-2.777l0.015-0.023c0.984 1.494 2.54 2.542 4.349 2.835l0.037 0.005c0.127 0.010 0.252 0.016 0.377 0.016 2.281-0.225 4.226-1.487 5.379-3.303l0.017-0.029 2.594 2.596v1.483c-0.006 0.412-0.338 0.744-0.749 0.75h-0.001zM7.991 9.25c1.972-0.032 3.58-1.553 3.749-3.486l0.001-0.014c-0.484-1.837-1.473-3.399-2.81-4.576l-0.010-0.009c-0.229-0.255-0.561-0.415-0.929-0.415-0 0-0 0-0 0h-0.002c-0.369 0.001-0.701 0.162-0.93 0.417l-0.001 0.001c-1.3 1.215-2.273 2.764-2.782 4.511l-0.018 0.071c0.165 1.943 1.766 3.463 3.729 3.5l0.004 0zM7.995 3.943c0.465 0.541 0.878 1.151 1.216 1.805l0.025 0.053c-0.192 0.526-0.669 0.904-1.239 0.949l-0.005 0c-0.559-0.051-1.025-0.404-1.237-0.892l-0.004-0.010c0.349-0.728 0.765-1.354 1.254-1.915l-0.009 0.010zM15.991 9.25c1.972-0.032 3.579-1.553 3.748-3.486l0.001-0.014c-0.484-1.837-1.473-3.399-2.809-4.576l-0.010-0.009c-0.229-0.255-0.56-0.415-0.929-0.415-0 0-0.001 0-0.001 0h-0.002c-0.369 0.001-0.701 0.162-0.93 0.417l-0.001 0.001c-1.3 1.215-2.273 2.764-2.782 4.511l-0.018 0.071c0.165 1.943 1.766 3.463 3.729 3.5l0.004 0zM15.994 3.944c0.466 0.541 0.879 1.15 1.216 1.804l0.024 0.052c-0.192 0.526-0.668 0.904-1.238 0.949l-0.005 0c-0.559-0.051-1.025-0.404-1.237-0.892l-0.004-0.010c0.349-0.727 0.764-1.354 1.253-1.914l-0.009 0.010zM23.99 9.25c1.972-0.032 3.579-1.553 3.749-3.486l0.001-0.014c-0.484-1.837-1.473-3.399-2.81-4.576l-0.010-0.009c-0.229-0.255-0.56-0.415-0.928-0.415-0.001 0-0.001 0-0.002 0h-0.002c-0.37 0.001-0.702 0.162-0.931 0.417l-0.001 0.001c-1.299 1.215-2.271 2.765-2.779 4.511l-0.018 0.071c0.164 1.943 1.764 3.463 3.727 3.5l0.004 0zM23.994 3.944c0.466 0.541 0.878 1.15 1.216 1.804l0.025 0.052c-0.192 0.526-0.669 0.904-1.239 0.949l-0.005 0c-0.558-0.051-1.023-0.404-1.235-0.892l-0.004-0.010c0.346-0.728 0.761-1.354 1.25-1.914l-0.008 0.010z">
                        </path>
                    </svg>
                    <div>${villager.birthday_month} ${villager.birthday_day}</div>
                </span>
            </li>
        </ul>
        <button id="refresh-btn">See Another</button>
    `;
    card.innerHTML = html;
    
    const img = document.querySelector('#villager-img');
    if (villager.gender.toLowerCase() == 'male') {
        img.style.border = '5px solid var(--border-blue)';
    } else if (villager.gender.toLowerCase() == 'female') {
        img.style.border = '5px solid var(--border-pink)';
    } else {
        img.style.border = '5px solid orange';
    }

    const hobbyIcon = document.querySelector('#hobby-icon');
    if (villager.nh_details.hobby.toLowerCase() === 'fitness') {
        hobbyIcon.innerHTML = `
            <svg fill="hsl(6.9, 74%, 34.7%)" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg"
                    width="481px" height="481px" viewBox="0 0 481.482 481.482">
                <path d="M187.383,112.446c23.751,0,43.003-19.252,43.003-42.999c0-23.746-19.252-42.998-43.003-42.998
                    c-23.745,0-42.997,19.252-42.997,42.998C144.386,93.194,163.637,112.446,187.383,112.446z"/>
                <path d="M201.427,168.63c14.601,25.078,28.466,50.598,41.783,76.393c-19.684,10.062-42.975,27.699-54.849,37.328
                    c-11.874,9.63-34.012,58.849-45.395,82.382c-12.228,25.272,27.115,43.604,39.298,18.438
                    c10.041-20.741,26.951-62.021,36.794-70.124c9.843-8.104,42.155-30.97,66.806-39.557c1.213-0.424,2.317-0.928,3.364-1.488
                    c30.175,38.297,89.277,56.387,139.688,26.928c26.562-15.524,2.536-53.799-24.104-38.228
                    c-36.924,21.593-75.352-6.017-92.753-40.587c-17.402-34.571-29.732-58.904-43.838-83.386c27.547-8.786,52.733-0.761,72.54,26.978
                    c16.108,22.568,53.787,0.927,37.495-21.908c-38.337-53.687-95.5-67.011-152.731-33.035c-2.378,1.413-13.122,7.333-15.543,8.77
                    c-35.576,21.12-68.637,17.116-93.326-17.468c-16.12-22.57-53.791-0.929-37.487,21.903
                    C110.668,166.094,154.895,182.887,201.427,168.63z"/>
                <path d="M461.989,416.046H72.901L42.228,240.731h77.229c10.767,0,19.494-8.728,19.494-19.494s-8.728-19.493-19.494-19.493H19.493
                    C8.727,201.744,0,210.472,0,221.237v2.657c0,1.126,0.098,2.25,0.291,3.359l37.028,211.646
                    c1.633,9.328,9.732,16.134,19.202,16.134h405.468c10.766,0,19.493-8.728,19.493-19.493
                    C481.482,424.773,472.755,416.046,461.989,416.046z"/>
            </svg>
        `;
    } else if (villager.nh_details.hobby.toLowerCase() === 'education') {
        hobbyIcon.innerHTML = `
            <svg width="24px" height="24px" viewBox="0 0 24 24" id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg">
                <defs>
                <style>
                    .path {
                    fill: none;
                    stroke: hsl(6.9, 74%, 34.7%);
                    stroke-miterlimit: 10;
                    stroke-width: 1.91px;
                    }
                </style>
                </defs>
                <path class="path" d="M.55,17.73H18.2a2.39,2.39,0,0,1,2.39,2.38h0A2.39,2.39,0,0,1,18.2,22.5H.55" />
                <path class="path" d="M2.45,17.73a3.47,3.47,0,0,1,1,2.38,3.5,3.5,0,0,1-1,2.39" />
                <path class="path" d="M23.45,17.73H5.8a2.39,2.39,0,0,1-2.39-2.39h0A2.39,2.39,0,0,1,5.8,13H23.45" />
                <path class="path" d="M21.55,17.73a3.46,3.46,0,0,1,0-4.78" />
                <path class="path"
                    d="M16.77,7.39c0,2.78-1.91,7.06-4.77,5-2.86,2-4.77-2.26-4.77-5s2.86-4,4.77-2C13.91,3.35,16.77,4.6,16.77,7.39Z" />
                <path class="path" d="M10.09,1.5c1,0,1.91,1,1.91,2.86" />
            </svg>
        `;
    } else if (villager.nh_details.hobby.toLowerCase() === 'play') {
        hobbyIcon.innerHTML = `
            <svg fill="hsl(6.9, 74%, 34.7%)" height="512px" width="512px" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" 
                    viewBox="0 0 512.042 512.042" xml:space="preserve">
                <g transform="translate(-1)">
                <g>
                    <path d="M491.708,469.354c-35.386,0-64-28.614-64-64c0-63.477-46.093-116.081-106.667-126.224v-65.776
                        c18.329,0,28.125-21.588,16.055-35.381L187.763,7.306c-8.499-9.714-23.61-9.714-32.11,0L6.32,177.973
                        c-12.07,13.794-2.274,35.381,16.055,35.381v149.333c0,11.782,9.551,21.333,21.333,21.333v106.667
                        c0,11.782,9.551,21.333,21.333,21.333c11.782,0,21.333-9.551,21.333-21.333V384.021h21.333v106.667
                        c0,11.782,9.551,21.333,21.333,21.333c11.782,0,21.333-9.551,21.333-21.333v-21.333h42.667v21.333
                        c0,11.782,9.551,21.333,21.333,21.333c11.782,0,21.333-9.551,21.333-21.333V384.021h21.333v106.667
                        c0,11.782,9.551,21.333,21.333,21.333c11.782,0,21.333-9.551,21.333-21.333V384.021c11.782,0,21.333-9.551,21.333-21.333v-39.986
                        c36.835,9.456,64,42.838,64,82.653c0,58.95,47.717,106.667,106.667,106.667c11.782,0,21.333-9.551,21.333-21.333
                        S503.49,469.354,491.708,469.354z M171.708,53.751l102.32,116.937H69.389L171.708,53.751z M278.375,213.354v128H65.042v-128
                        H278.375z M193.042,426.687h-42.667v-42.667h42.667V426.687z"/>
                </g>
                </g>
            </svg>
        `;
    } else if (villager.nh_details.hobby.toLowerCase() === 'fashion') {
        hobbyIcon.innerHTML = `
            <svg fill="hsl(6.9, 74%, 34.7%)" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" 
                    width="256" height="256" viewBox="0 0 256 253" enable-background="new 0 0 256 253" xml:space="preserve">
                    <path d="M254,69v-8H2v8c0,13.678,9.625,25.302,22,29.576V233H2v18h252v-18h-22V98.554C244.89,94.609,253.699,83.158,254,69z
                    M214,233h-69v-5h-12v-26.381h30.29l-2-0.041c-0.203-11.48-19.068-41.249-22.202-48.78c0,0,4.152-19.204,4.926-19.204
                c0.977,0,2.588,8.304,2.588,8.304h9.689c0,0-0.792-4.735-2-9.281c-2.29-8.618-5.333-15.999-14.045-15.999h-5.211L133.667,109h-9.333
                l-1.367,7.619h-5.217c-8.508,0-12.048,7.352-14.045,15.999c-1.705,7.382-2,9.281-2,9.281h9.689c0,0,1.773-8.304,2.588-8.304
                c0.977,0,4.763,18.837,4.763,18.837c-3.175,7.49-23.795,37.503-23.999,49.187H125V228h-12v5H42V98.594
                c13.402-3.628,23.29-15.699,23.29-30.248c0,6.478,6.755,31.47,31.727,31.47c21.689,0,31.202-19.615,31.202-31.47
                c0,11.052,7.41,31.447,31.464,31.447c21.733,0,31.363-20.999,31.363-31.447c0,14.426,9.726,26.416,22.954,30.154V233z M254,54H2
                l32-32V2h189v20h-0.168L254,54z"/>
            </svg>   
        `;
    } else if (villager.nh_details.hobby.toLowerCase() === 'music') {
        hobbyIcon.innerHTML = `
        <svg fill="hsl(6.9, 74%, 34.7%)" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg"
                width="92px" height="92px" viewBox="0 0 92 92" enable-background="new 0 0 92 92">
                <path d="M88.9,6.3c0-1.2-0.5-2.4-1.5-3.1c-0.9-0.8-2.1-1.1-3.3-0.8L33.7,12.6c-1.9,0.4-3.2,2-3.2,3.9l0,45.9
            c-2.8-1.6-6.2-2.5-9.8-2.5c0,0,0,0,0,0c-4.6,0-8.9,1.4-12.3,4.2C4.9,67.1,3,70.7,3,75c0,8.5,8,15,17.7,15c0,0,0,0,0,0
            c4.6,0,8.7-1.2,12-3.9c3.5-2.9,5.2-6.7,5.2-10.9v0.1v0v0l0.3-39.2l42.5-8.6l0,23.8C78,49.7,74.8,49,71.2,49c0,0,0,0,0,0
            c-4.6,0-8.9,1.3-12.3,4c-3.5,2.9-5.5,6.6-5.5,10.9c0,8.5,8,15.1,17.7,15.1c0,0,0,0,0,0c9.3,0,17-6.1,17.7-14.1c0-0.1,0-0.5,0-1.6
            L88.9,6.3z M27.9,79.9C26,81.5,23.5,82,20.7,82c0,0,0,0,0,0c-5.3,0-9.7-3-9.7-7c0-1.8,0.9-3.4,2.6-4.7c1.9-1.6,4.4-2.2,7.2-2.2
            c0,0,0,0,0,0c5.3,0,9.8,3.2,9.8,7.2C30.5,77,29.6,78.5,27.9,79.9z M38.5,28.9l0-9.1l42.4-8.7l0,9.1L38.5,28.9z M71.2,71
            C71.2,71,71.2,71,71.2,71c-5.3,0-9.8-3.2-9.8-7.2c0-1.8,0.9-3.3,2.6-4.7c1.9-1.6,4.4-2.1,7.2-2.1c0,0,0,0,0,0c5,0,9.8,2.6,9.8,6.4
            v1.1C80,68.3,76.2,71,71.2,71z"/>
        </svg>
        `;
    } else if (villager.nh_details.hobby.toLowerCase() === 'nature') {
        hobbyIcon.innerHTML = `
            <svg fill="hsl(6.9, 74%, 34.7%)" height="512px" width="512px" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" 
                viewBox="0 0 511.999 511.999" xml:space="preserve">
                <g>
                <g>
                <path d="M470.956,433.845c-1.192-2.06-2.501-4.029-3.907-5.915v-33.666c21.175-4.52,37.043-22.455,37.043-43.844v-34.177
                c0-5.771-4.678-10.449-10.449-10.449c-4.341,0-8.545,0.59-12.549,1.666c-7.463-12.108-17.602-20.058-18.089-20.435
                c-3.769-2.924-9.039-2.923-12.808,0c-0.487,0.377-10.627,8.327-18.089,20.434c-4.003-1.075-8.207-1.664-12.547-1.664
                c-2.773,0-5.432,1.102-7.392,3.064c-1.96,1.961-3.059,4.622-3.057,7.395l0.031,34.166c0,21.386,15.853,39.32,37.008,43.842v15.923
                c-8.519-4.415-18.115-6.856-28.104-6.856c-16.4,0-31.604,6.497-42.763,17.422V316.655c21.175-4.519,37.043-22.455,37.043-43.844
                v-34.177c0-5.771-4.678-10.449-10.449-10.449c-4.341,0-8.545,0.59-12.548,1.666c-7.463-12.108-17.603-20.058-18.09-20.435
                c-3.769-2.924-9.039-2.923-12.808,0c-0.487,0.377-10.627,8.326-18.088,20.434c-4.003-1.075-8.208-1.666-12.547-1.666
                c-2.773,0-5.432,1.102-7.392,3.064c-1.96,1.961-3.059,4.622-3.057,7.395l0.031,34.167c0,21.386,15.852,39.319,37.008,43.842
                v117.026c-0.51-0.018-1.018-0.049-1.529-0.049c-25.063,0-45.453,20.39-45.453,45.453c0,10.654,3.767,21.015,10.606,29.177
                c1.985,2.37,4.918,3.738,8.009,3.738h167.365c3.091,0,6.024-1.369,8.009-3.738c6.839-8.162,10.606-18.523,10.606-29.177
                C511.999,455.51,493.958,436.068,470.956,433.845z M456.599,309.647c1.928,2.1,4.027,4.664,5.919,7.546
                c-2.146,1.82-4.133,3.813-5.915,5.975c-1.784-2.163-3.772-4.157-5.919-5.977C452.574,314.308,454.673,311.745,456.599,309.647z
                    M430.04,350.411l-0.02-21.666c9.385,3.853,16.028,12.712,16.127,23.001c0.055,5.731,4.717,10.349,10.449,10.349h0.015
                c5.731,0,10.393-4.616,10.449-10.348c0.099-10.293,6.746-19.156,16.134-23.007v21.68c0,13.039-12.178,24.056-26.594,24.056
                C442.202,374.477,430.04,363.46,430.04,350.411z M364.834,232.039c1.928,2.1,4.027,4.664,5.918,7.547
                c-2.145,1.819-4.133,3.813-5.915,5.974c-1.784-2.163-3.772-4.157-5.919-5.977C360.81,236.701,362.908,234.138,364.834,232.039z
                    M338.276,272.804l-0.02-21.666c9.385,3.852,16.028,12.712,16.127,23.001c0.055,5.731,4.717,10.349,10.449,10.349h0.014
                c5.731,0,10.393-4.616,10.449-10.348c0.1-10.292,6.746-19.156,16.135-23.007v21.681c0,13.039-12.178,24.056-26.594,24.056
                C350.438,296.869,338.276,285.853,338.276,272.804z M487.957,491.102H331.446c-2.046-3.648-3.144-7.79-3.144-12.016
                c0-13.54,11.015-24.555,24.555-24.555c4.191,0,8.331,1.078,11.972,3.119c2.721,1.523,5.982,1.752,8.888,0.625
                c2.908-1.13,5.159-3.498,6.139-6.459c5.46-16.501,20.807-27.587,38.19-27.587c15.975,0,30.444,9.465,36.86,24.112
                c1.753,4.003,5.811,6.507,10.177,6.238c0.484-0.028,0.971-0.048,1.462-0.048c13.54,0,24.555,11.015,24.555,24.555
                C491.102,483.312,490.003,487.454,487.957,491.102z"/>
                </g>
                </g>
                <g>
                <g>
                <path d="M511.985,65.829C511.985,29.531,482.454,0,446.156,0c-28.997,0-54.006,18.677-62.631,45.553
                c-25.115,0.292-48.128,14.749-59.551,36.838c-28.25,0.784-51.604,21.625-56.436,48.83h-50.916
                c-5.771,0-10.449,4.678-10.449,10.449c0,5.771,4.678,10.449,10.449,10.449h60.447c5.771,0,10.449-4.678,10.449-10.449
                c0-21.176,17.092-38.404,38.103-38.404c1.258,0,2.588,0.07,3.954,0.208c4.7,0.472,9.135-2.265,10.815-6.682
                c6.906-18.156,24.551-30.354,43.908-30.354c19.358,0,37.003,12.198,43.908,30.354c1.68,4.417,6.12,7.151,10.815,6.682
                c1.365-0.138,2.694-0.208,3.951-0.208c17.419,0,32.147,11.841,36.674,27.955h-124.27c-5.771,0-10.449,4.678-10.449,10.449
                c0,5.771,4.678,10.449,10.449,10.449h136.151c5.771,0,10.449-4.678,10.449-10.449c0-11.067-3.032-21.433-8.305-30.308
                C505.399,99.187,511.985,83.074,511.985,65.829z M479.903,95.473c-9.719-7.864-21.949-12.712-35.282-13.082
                c-8.364-16.177-22.949-28.26-40.021-33.686c6.773-16.564,22.964-27.807,41.556-27.807c24.775,0,44.931,20.156,44.931,44.931
                C491.087,76.932,487.081,87.348,479.903,95.473z"/>
                        </g>
                    </g>
                    <g>
                        <g>
                            <path d="M121.668,24.085C113.236,9.43,97.384,0,80.201,0C63.018,0,47.166,9.43,38.735,24.085
                                C17.095,25.781,0.004,44.014,0.004,66.182c0,5.771,4.678,10.449,10.449,10.449c5.771,0,10.449-4.678,10.449-10.449
                                c0-11.76,9.48-21.328,21.133-21.328c0.694,0,1.437,0.04,2.208,0.117c4.699,0.479,9.132-2.265,10.813-6.682
                                c3.956-10.402,14.061-17.39,25.145-17.39c11.084,0,21.191,6.988,25.147,17.391c1.679,4.415,6.109,7.156,10.813,6.682
                                c0.77-0.077,1.512-0.117,2.206-0.117c7.895,0,14.793,4.391,18.421,10.879H61.388c-5.771,0-10.449,4.678-10.449,10.449
                                s4.678,10.449,10.449,10.449h88.562c5.771,0,10.449-4.678,10.449-10.449C160.4,44.014,143.309,25.782,121.668,24.085z"/>
                        </g>
                    </g>
                    <g>
                        <g>
                            <path d="M323.506,131.221h-0.163c-5.771,0-10.449,4.678-10.449,10.449s4.678,10.449,10.449,10.449h0.163
                                c5.771,0,10.449-4.678,10.449-10.449C333.955,135.899,329.277,131.221,323.506,131.221z"/>
                        </g>
                    </g>
                    <g>
                        <g>
                            <path d="M183.349,131.221h-0.163c-5.771,0-10.449,4.678-10.449,10.449c0,5.771,4.678,10.449,10.449,10.449h0.163
                                c5.771,0,10.449-4.678,10.449-10.449C193.798,135.899,189.12,131.221,183.349,131.221z"/>
                        </g>
                    </g>
                    <g>
                        <g>
                            <path d="M195.692,238.518c-16.709,0-30.303,13.593-30.303,30.302c0,16.709,13.594,30.302,30.303,30.302
                                c16.708,0,30.301-13.594,30.301-30.302C225.993,252.111,212.4,238.518,195.692,238.518z M195.692,278.224
                                c-5.187,0-9.405-4.219-9.405-9.404c0-5.185,4.219-9.404,9.405-9.404c5.185,0,9.403,4.219,9.403,9.404
                                C205.095,274.005,200.877,278.224,195.692,278.224z"/>
                        </g>
                    </g>
                    <g>
                        <g>
                            <path d="M310.113,350.717c-4.341,0-8.545,0.59-12.549,1.666c-7.463-12.108-17.602-20.058-18.089-20.435
                                c-3.769-2.924-9.039-2.923-12.808,0c-0.487,0.377-10.628,8.327-18.089,20.434c-4.003-1.075-8.207-1.666-12.547-1.666
                                c-2.773,0-5.432,1.102-7.392,3.064c-1.96,1.961-3.059,4.622-3.057,7.395l0.031,34.166c0,21.386,15.852,39.32,37.008,43.842v37.141
                                l-4.081-4.081c-4.08-4.08-10.697-4.08-14.778,0c-4.08,4.08-4.08,10.697,0,14.778l4.081,4.081h-41.703V344.173
                                c6.532-2.383,11.991-6.936,15.498-12.838c9.966,2.534,20.901-0.138,28.729-7.966c7.824-7.827,10.496-18.76,7.962-28.725
                                c8.842-5.252,14.684-14.874,14.684-25.948c0-11.073-5.842-20.695-14.684-25.948c2.534-9.965-0.138-20.899-7.964-28.728
                                c-7.827-7.826-18.76-10.499-28.727-7.963c-5.253-8.841-14.874-14.683-25.947-14.683c-11.073,0-20.695,5.843-25.948,14.684
                                c-9.968-2.535-20.899,0.137-28.728,7.963c-7.826,7.828-10.499,18.761-7.963,28.727c-8.841,5.253-14.683,14.874-14.683,25.948
                                c0,11.075,5.841,20.696,14.683,25.948c-2.535,9.967,0.138,20.9,7.964,28.727c7.826,7.826,18.759,10.499,28.727,7.963
                                c3.507,5.902,8.966,10.455,15.499,12.839v146.929h-16.49c3.995-8.24,6.154-17.349,6.154-26.645
                                c0-33.705-27.421-61.127-61.127-61.127c-18.986,0-36.575,8.876-47.974,23.266v-18.542c21.175-4.52,37.043-22.455,37.043-43.844
                                v-34.177c0-5.771-4.678-10.449-10.449-10.449c-4.341,0-8.545,0.59-12.549,1.666c-7.463-12.108-17.602-20.058-18.089-20.435
                                c-3.769-2.924-9.039-2.923-12.808,0c-0.487,0.377-10.627,8.327-18.089,20.434c-4.003-1.075-8.207-1.665-12.547-1.665
                                c-2.773,0-5.432,1.102-7.392,3.064c-1.96,1.961-3.059,4.622-3.057,7.395l0.031,34.166c0,21.386,15.853,39.319,37.008,43.842
                                v22.471C20.049,431.095,0,451.478,0,476.47c0,12.251,4.765,23.778,13.414,32.457c1.96,1.966,4.624,3.072,7.401,3.072h274.171
                                c5.771,0,10.449-4.678,10.449-10.449c0-4.766-3.194-8.779-7.557-10.034l4.496-4.495c4.083-4.08,4.083-10.697,0.003-14.777
                                c-4.08-4.081-10.697-4.079-14.777,0l-4.082,4.082v-37.14c21.175-4.52,37.043-22.455,37.043-43.844v-34.177
                                C320.562,355.395,315.884,350.717,310.113,350.717z M55.358,323.438c1.928,2.1,4.027,4.664,5.919,7.546
                                c-2.146,1.82-4.133,3.813-5.915,5.975c-1.784-2.163-3.772-4.157-5.919-5.977C51.333,328.099,53.432,325.536,55.358,323.438z
                                    M28.799,364.201l-0.02-21.666c9.385,3.853,16.028,12.712,16.127,23.001c0.055,5.731,4.717,10.349,10.449,10.349h0.015
                                c5.731,0,10.393-4.616,10.449-10.348c0.099-10.293,6.746-19.156,16.134-23.007v21.68c0,13.039-12.178,24.056-26.594,24.056
                                C40.962,388.266,28.799,377.251,28.799,364.201z M143.914,491.102H25.607c-3.056-4.236-4.704-9.308-4.704-14.63
                                c0-13.827,11.249-25.078,25.078-25.078c5.104,0,10.017,1.528,14.209,4.417c2.667,1.838,6.033,2.337,9.119,1.349
                                c3.085-0.987,5.536-3.35,6.638-6.395c5.744-15.873,20.95-26.537,37.836-26.537c22.182,0,40.229,18.046,40.229,40.229
                                C154.01,474.428,150.452,483.751,143.914,491.102z M195.692,325.119c-5.065,0-9.144-3.987-9.286-9.078
                                c-0.115-4.117-2.638-7.783-6.444-9.361c-1.293-0.536-2.651-0.797-3.999-0.797c-2.62,0-5.2,0.986-7.177,2.854
                                c-3.704,3.5-9.411,3.437-12.991-0.144c-3.581-3.581-3.645-9.288-0.145-12.992c2.83-2.995,3.635-7.372,2.057-11.177
                                c-1.578-3.806-5.244-6.329-9.362-6.444c-5.09-0.141-9.077-4.22-9.077-9.285c0-5.065,3.987-9.144,9.078-9.286
                                c4.118-0.115,7.784-2.638,9.361-6.444c1.577-3.805,0.771-8.184-2.058-11.177c-3.499-3.703-3.436-9.409,0.144-12.99
                                c3.581-3.582,9.289-3.644,12.992-0.144c2.994,2.83,7.371,3.634,11.177,2.057c3.806-1.577,6.329-5.243,6.444-9.36
                                c0.142-5.092,4.221-9.079,9.286-9.079c5.065,0,9.143,3.987,9.286,9.079c0.115,4.118,2.638,7.784,6.445,9.361
                                c3.804,1.577,8.183,0.771,11.177-2.058c3.703-3.5,9.409-3.436,12.989,0.143c3.581,3.583,3.646,9.29,0.146,12.992
                                c-2.83,2.995-3.635,7.372-2.058,11.177c1.578,3.806,5.244,6.33,9.361,6.444c5.092,0.142,9.079,4.221,9.079,9.286
                                c0,5.066-3.987,9.144-9.078,9.285c-4.118,0.114-7.784,2.637-9.362,6.444c-1.578,3.806-0.772,8.184,2.057,11.177
                                c3.499,3.704,3.436,9.411-0.144,12.992c-3.581,3.581-9.287,3.644-12.991,0.145c-2.995-2.83-7.371-3.634-11.177-2.058
                                c-3.805,1.578-6.33,5.243-6.444,9.361C204.836,321.132,200.757,325.119,195.692,325.119z M273.07,354.568
                                c1.928,2.1,4.027,4.664,5.918,7.546c-2.145,1.819-4.133,3.813-5.915,5.974c-1.784-2.162-3.772-4.157-5.919-5.977
                                C269.045,359.23,271.144,356.667,273.07,354.568z M299.665,395.341c0,13.039-12.178,24.056-26.594,24.056
                                c-14.398,0-26.56-11.016-26.56-24.065l-0.02-21.666c9.385,3.853,16.028,12.712,16.127,23.001
                                c0.055,5.731,4.717,10.349,10.449,10.349h0.015c5.731,0,10.393-4.616,10.449-10.348c0.099-10.293,6.746-19.156,16.134-23.007
                                V395.341z"/>
                        </g>
                    </g>
                </svg>
        `;
    }
    
    const refreshBtn = document.querySelector('#refresh-btn');
    refreshBtn.addEventListener('click', fetchAndDisplayRandomVillager); 
}